<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/c33a19923e.js" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-database-compat.js"></script>
    <script>
        // Initialize Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyCeSy9qMibAAYCZg5cipJ8097qeh3vwF08",
            authDomain: "testingapp-589a1.firebaseapp.com",
            databaseURL: "https://testingapp-589a1-default-rtdb.firebaseio.com",
            projectId: "testingapp-589a1",
            storageBucket: "testingapp-589a1.appspot.com",
            messagingSenderId: "920622301670",
            appId: "1:920622301670:web:8937030299600fede51627",
            measurementId: "G-ZJP7HRFH98"
        };

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Get a reference to the database service
var database = firebase.database();

// Get reference to the dayTouristCount element dynamically
var dayTouristCountElement = document.querySelector("#dayTouristCount");

// Get a reference to the tourists collection
var touristsRef = database.ref('TouristID');

// Query to count the number of tourists with TourType set to "Day Tour"
touristsRef.orderByChild("TourType").equalTo("Day Tour").once("value", function(snapshot) {
    var dayTouristCount = snapshot.numChildren();
    // Update the count in the HTML if the element exists
    if (dayTouristCountElement) {
        dayTouristCountElement.textContent = dayTouristCount;
    }
});

    </script>
</head>
<body>
    <div id="upperbar">
        <div id="searchBox" style="display: none;">
            <input type="text" placeholder="Search...">
            <!-- Additional search box content can be added here -->
        </div>
        <div id="ipart">
            <i class="fa fa-search" id="searchIcon"></i>
            <i class="fa fa-bell"></i>
            <i class="fa fa-envelope"></i>
        </div>
        <h1>PEDO</h1>
        <i class="fa-solid fa-caret-down" id="dropdown-icon"></i>
        <div id="dropdown-content">
            <a href="#"><i class='fas fa-user-edit'></i> Profile</a>
            <a href="#"><i class='fas fa fa-id-card-o'></i> Account</a>
            <a href="#"><i class='fas fa fa-cog'></i> Settings</a>
        </div>
    </div>
    <div id="logo-holder">
        <img src="assets/gtmis-logo.png" alt="Logo" class="logo">
        <p>TOURISM MANAGEMENT INFORMATION SYSTEM</p>
    </div>
    <div id="sidebar">
        <div id="ft">
            <div class="dbn">
                <a href="#" class="db">
                    <i class="fa-solid fa-chart-area"></i> Dashboard
                </a>
            </div>
            <div class="horizontal-line"></div>
            <h2>Features</h2>
            <a href="#" class="link-with-icon">
                <i class="fa-solid fa-magnifying-glass-chart"></i>Spending Analysis<i class="fa-solid fa-chevron-right"></i> 
            </a>
            <a href="#" class="link-with-icon">
                <i class="fa-solid fa-chart-line"></i>Predictive Analytics<i class="fa-solid fa-chevron-right"></i>
            </a>
            <a href="#" class="link-with-icon">
                <i class="fa-regular fa-folder-open"></i>Report<i class="fa-solid fa-chevron-right"></i> 
            </a> 
        </div>
        <!-- Sidebar content -->
        <!-- Add your navigation items here -->
    </div>
    
    <main>
        <div class="stat-card">
            <h2>DAY TOUR</h2>
            <p>Daily</p>
            <div class="icon-with-number">
              <h3 id="dayTouristCount">0</h3>
                <i class="fa-solid fa-person-walking-luggage"></i>
            </div>
        </div>
        <div class="stat-card">
            <h2>GUEST NIGHT</h2>
            <p>Daily</p>
            <div class="icon-with-number">
                <h3>24</h3>
                <i class="fa-solid fa-person-shelter"></i>
            </div>
        </div>
        <div class="stat-card">
            <h2>TOTAL AE</h2>
            <p>Accommodation Establishment</p>
            <div class="icon-with-number">
                <h3>24</h3>
                <i class="fa-solid fa-building"></i>
            </div>
        </div>
        
        <!-- Add more stat cards as needed -->
        <div id="expenditure-chart">
            <!-- Horizontal bar chart -->
        </div>
        <div id="visits-chart">
            <!-- Vertical bar chart -->
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>
